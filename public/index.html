<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pins — AT Protocol File Storage</title>
    <meta name="description" content="Upload files and manage blobs on your AT Protocol PDS">
    <script async src="https://ga.jspm.io/npm:es-module-shims@2.6.2/dist/es-module-shims.js" crossorigin="anonymous"></script>
    <script type="importmap">
    {
        "imports": {
            "usignal": "https://esm.sh/usignal@0.10.0",
            "@atproto/api": "https://esm.sh/@atproto/api@0.15.8",
            "@atproto/oauth-client-browser": "https://esm.sh/@atproto/oauth-client-browser@0.3.36"
        }
    }
    </script>
    <link rel="icon" type="image/svg+xml" href="/images/pins-logo.svg">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="/css/base.css">
    
    <style>
        /* Subtle gradient overlay */
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background: 
                radial-gradient(ellipse 80% 50% at 50% -20%, rgba(59, 130, 246, 0.08), transparent),
                radial-gradient(ellipse 60% 40% at 100% 100%, rgba(139, 92, 246, 0.05), transparent);
            pointer-events: none;
            z-index: -1;
        }

        /* App layout */
        .app-container {
            max-width: 960px;
            margin: 0 auto;
            padding: 0 var(--space-6);
        }

        /* View switching via data-auth attribute on body */
        [data-view="loading"] .view-login,
        [data-view="loading"] .view-dashboard { display: none; }
        
        [data-view="login"] .view-dashboard,
        [data-view="login"] .view-loading { display: none; }
        
        [data-view="dashboard"] .view-login,
        [data-view="dashboard"] .view-loading { display: none; }

        /* Loading state */
        .view-loading {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: var(--space-4);
        }
        .view-loading p {
            color: var(--color-text-muted);
            font-size: var(--text-sm);
        }

        /* Login layout */
        .view-login {
            min-height: calc(100vh - 100px);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .login-card {
            width: 100%;
            max-width: 400px;
            padding: var(--space-10);
            background: var(--color-bg-elevated);
            border: 1px solid var(--color-border-subtle);
            border-radius: var(--radius-xl);
        }
        .login-header {
            text-align: center;
            margin-bottom: var(--space-8);
        }
        .login-header h1 {
            font-size: var(--text-xl);
            margin-bottom: var(--space-2);
        }
        .login-header p {
            color: var(--color-text-secondary);
            font-size: var(--text-base);
        }

        /* App Header */
        .app-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-5) 0;
            border-bottom: 1px solid var(--color-border-subtle);
            margin-bottom: var(--space-8);
        }
        .brand {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }
        .brand-icon {
            width: 32px;
            height: 32px;
            color: var(--color-accent);
        }
        .brand-icon svg {
            width: 100%;
            height: 100%;
        }
        .brand-name {
            font-size: var(--text-lg);
            font-weight: 700;
            color: var(--color-text-primary);
        }

        /* Dashboard layout */
        .view-dashboard {
            padding-bottom: var(--space-12);
        }
        .section {
            margin-bottom: var(--space-10);
        }
        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--space-4);
        }
        .section-title {
            font-size: var(--text-sm);
            font-weight: 600;
            color: var(--color-text-secondary);
            text-transform: uppercase;
            letter-spacing: var(--tracking-wide);
        }
    </style>

    <!-- ═══════════════════════════════════════════════════════════════════════
         HTML TEMPLATES
         Component templates cloned via JavaScript
         ═══════════════════════════════════════════════════════════════════════ -->

    <!-- User Status Template -->
    <template id="user-status-template">
        <link rel="stylesheet" href="/css/tokens.css">
        <link rel="stylesheet" href="/css/components/buttons.css">
        <style>
            :host {
                display: flex;
                align-items: center;
                gap: var(--space-4);
            }
            .handle {
                font-size: var(--text-sm);
                color: var(--color-text-secondary);
            }
        </style>
        <span class="handle" id="handle"></span>
        <button class="btn btn-ghost btn-sm" id="logoutBtn">Sign out</button>
    </template>

    <!-- Login Form Template -->
    <template id="login-form-template">
        <link rel="stylesheet" href="/css/tokens.css">
        <link rel="stylesheet" href="/css/components/buttons.css">
        <link rel="stylesheet" href="/css/components/inputs.css">
        <link rel="stylesheet" href="/css/components/cards.css">
        <style>
            :host { display: block; }

            .form {
                display: flex;
                flex-direction: column;
                gap: var(--space-4);
            }
        </style>
        <form class="form" id="loginForm">
            <div class="input-group">
                <label class="input-label" for="handle">Handle or DID</label>
                <div class="input-wrapper">
                    <span class="input-prefix">@</span>
                    <input type="text" class="input" id="handle" 
                        placeholder="username.bsky.social"
                        autocomplete="username" autocapitalize="none" spellcheck="false" required />
                </div>
                <p class="input-hint">Your Bluesky handle or DID</p>
            </div>
            <button type="submit" class="btn btn-primary btn-lg" id="submitBtn" style="width: 100%;">Sign in</button>
            <div class="info-box" id="infoBox">
                <span class="icon-slot" data-icon="shield"></span>
                <span>Secure OAuth — your credentials never leave your PDS</span>
            </div>
        </form>
    </template>

    <!-- Upload Zone Template -->
    <template id="upload-zone-template">
        <link rel="stylesheet" href="/css/tokens.css">
        <link rel="stylesheet" href="/css/components/loading.css">
        <style>
            :host { display: block; }

            .upload-zone {
                position: relative;
                border: 2px dashed var(--color-border-default);
                border-radius: var(--radius-lg);
                padding: var(--space-10) var(--space-8);
                text-align: center;
                transition: all var(--transition-fast);
                cursor: pointer;
            }
            .upload-zone:hover { border-color: var(--color-border-strong); background: var(--color-bg-elevated); }
            .upload-zone.dragover { border-color: var(--color-accent); background: var(--color-accent-muted); }
            .upload-zone.uploading { pointer-events: none; opacity: 0.7; }

            .upload-icon { width: 40px; height: 40px; margin: 0 auto var(--space-4); color: var(--color-text-muted); }
            .upload-icon svg { width: 100%; height: 100%; }
            .upload-text { color: var(--color-text-secondary); font-size: var(--text-base); margin-bottom: var(--space-2); }
            .upload-hint { color: var(--color-text-muted); font-size: var(--text-xs); }
            .file-input { position: absolute; inset: 0; opacity: 0; cursor: pointer; }

            .upload-progress { margin-top: var(--space-6); padding-top: var(--space-6); border-top: 1px solid var(--color-border-subtle); }
            .upload-item { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3); background: var(--color-bg-elevated); border-radius: var(--radius-md); margin-bottom: var(--space-2); }
            .upload-item-icon { width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; background: var(--color-bg-subtle); border-radius: var(--radius-sm); color: var(--color-text-muted); }
            .upload-item-icon svg { width: 18px; height: 18px; }
            .upload-item-info { flex: 1; min-width: 0; }
            .upload-item-name { font-size: var(--text-sm); font-weight: 500; color: var(--color-text-primary); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
            .upload-item-size { font-size: var(--text-xs); color: var(--color-text-muted); }
            .upload-item-status { display: flex; align-items: center; gap: var(--space-2); }
            .upload-item-status.success { color: var(--color-success); }
            .upload-item-status.error { color: var(--color-error); }
        </style>
        <div class="upload-zone" id="dropZone">
            <input type="file" class="file-input" id="fileInput" multiple />
            <div class="upload-icon" id="uploadIcon"></div>
            <p class="upload-text">Drop files here or click to upload</p>
            <p class="upload-hint">Max 1MB per file</p>
            <div class="upload-progress" id="uploadProgress" style="display: none;"></div>
        </div>
    </template>

    <!-- Blob Item Template -->
    <template id="blob-item-template">
        <link rel="stylesheet" href="/css/tokens.css">
        <link rel="stylesheet" href="/css/components/buttons.css">
        <link rel="stylesheet" href="/css/components/cards.css">
        <link rel="stylesheet" href="/css/components/loading.css">
        <style>
            :host { display: block; }

            .blob-card { background: var(--color-bg-elevated); border: 1px solid var(--color-border-subtle); border-radius: var(--radius-lg); overflow: hidden; transition: all var(--transition-fast); cursor: pointer; position: relative; }
            .blob-card:hover { border-color: var(--color-border-default); box-shadow: var(--shadow-md); }
            .blob-card.selected { border-color: var(--color-accent); background: var(--color-accent-muted); }

            .select-checkbox { position: absolute; top: var(--space-3); left: var(--space-3); z-index: 10; width: 20px; height: 20px; background: var(--color-bg-base); border: 2px solid var(--color-border-strong); border-radius: 4px; display: none; align-items: center; justify-content: center; cursor: pointer; transition: all var(--transition-fast); }
            .blob-card.selectable .select-checkbox { display: flex; }
            .select-checkbox.checked { background: var(--color-accent); border-color: var(--color-accent); }
            .select-checkbox svg { width: 12px; height: 12px; color: white; display: none; }
            .select-checkbox.checked svg { display: block; }

            .thumbnail { aspect-ratio: 16/10; background: var(--color-bg-subtle); display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; }
            .thumbnail img { width: 100%; height: 100%; object-fit: cover; transition: transform var(--transition-slow); }
            .blob-card:hover .thumbnail img { transform: scale(1.05); }
            .thumbnail-icon { color: var(--color-text-muted); width: 32px; height: 32px; }
            .thumbnail-icon svg { width: 100%; height: 100%; }

            .preview-overlay { position: absolute; inset: 0; background: rgba(0, 0, 0, 0.6); display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity var(--transition-fast); }
            .blob-card:hover .preview-overlay { opacity: 1; }
            .preview-btn { padding: var(--space-2) var(--space-4); background: white; color: black; border: none; border-radius: var(--radius-md); font-size: var(--text-xs); font-weight: 500; cursor: pointer; display: flex; align-items: center; gap: var(--space-2); }
            .preview-btn svg { width: 14px; height: 14px; }

            .info { padding: var(--space-3); }
            .filename { font-size: var(--text-xs); font-weight: 500; color: var(--color-text-primary); margin-bottom: var(--space-1); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
            .meta { display: flex; align-items: center; gap: var(--space-2); font-size: var(--text-xs); color: var(--color-text-muted); }
            .cid { font-family: var(--font-mono); font-size: 10px; color: var(--color-text-muted); margin-top: var(--space-2); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

            .actions { display: flex; gap: 2px; padding: var(--space-2) var(--space-3) var(--space-3); border-top: 1px solid var(--color-border-subtle); }
            .action-btn { flex: 1; padding: var(--space-2); background: transparent; border: none; color: var(--color-text-secondary); cursor: pointer; border-radius: var(--radius-sm); transition: all var(--transition-fast); display: flex; align-items: center; justify-content: center; gap: var(--space-1); font-size: var(--text-xs); font-family: inherit; }
            .action-btn:hover { background: var(--color-bg-subtle); color: var(--color-text-primary); }
            .action-btn.danger:hover { background: var(--color-error-muted); color: var(--color-error); }
            .action-btn svg { width: 14px; height: 14px; }
        </style>
        <div class="blob-card" id="card">
            <div class="select-checkbox" id="checkbox"><span class="icon-slot" data-icon="check"></span></div>
            <div class="thumbnail" id="thumbnail">
                <div class="preview-overlay">
                    <button class="preview-btn" id="previewBtn"><span class="icon-slot" data-icon="externalLink"></span>Preview</button>
                </div>
            </div>
            <div class="info">
                <div class="filename" id="filename"></div>
                <div class="meta" id="meta"></div>
                <div class="cid" id="cid"></div>
            </div>
            <div class="actions">
                <button class="action-btn" id="copyBtn" title="Copy CID"><span class="icon-slot" data-icon="copy"></span>Copy</button>
                <button class="action-btn" id="downloadBtn" title="Download"><span class="icon-slot" data-icon="download"></span>Download</button>
                <button class="action-btn danger" id="deleteBtn" title="Delete"><span class="icon-slot" data-icon="trash"></span></button>
            </div>
        </div>
    </template>

    <!-- Toast Notification Template -->
    <template id="toast-template">
        <link rel="stylesheet" href="/css/tokens.css">
        <style>
            :host { position: fixed; bottom: var(--space-4); right: var(--space-4); z-index: var(--z-toast); display: flex; flex-direction: column; gap: var(--space-2); max-width: 400px; }
            .toast { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3) var(--space-4); border-radius: var(--radius-md); background: var(--color-bg-elevated); color: var(--color-text-primary); box-shadow: var(--shadow-lg); animation: slideIn var(--transition-slow); }
            .toast.removing { opacity: 0; transform: translateX(100%); transition: all var(--transition-slow); }
            .toast-success { border-left: 4px solid var(--color-success); }
            .toast-success .toast-icon { color: var(--color-success); }
            .toast-error { border-left: 4px solid var(--color-error); }
            .toast-error .toast-icon { color: var(--color-error); }
            .toast-info { border-left: 4px solid var(--color-accent); }
            .toast-info .toast-icon { color: var(--color-accent); }
            .toast-warning { border-left: 4px solid var(--color-warning); }
            .toast-warning .toast-icon { color: var(--color-warning); }
            .toast-icon { width: 20px; height: 20px; flex-shrink: 0; }
            .toast-icon svg { width: 100%; height: 100%; }
            .toast-message { flex: 1; font-size: var(--text-sm); }
            .toast-close { background: transparent; border: none; color: inherit; opacity: 0.6; cursor: pointer; padding: var(--space-1); display: flex; }
            .toast-close:hover { opacity: 1; }
            @keyframes slideIn { from { opacity: 0; transform: translateX(100%); } to { opacity: 1; transform: translateX(0); } }
        </style>
        <div id="toasts"></div>
    </template>

    <!-- Preview Modal Template -->
    <template id="preview-modal-template">
        <link rel="stylesheet" href="/css/tokens.css">
        <link rel="stylesheet" href="/css/components/buttons.css">
        <link rel="stylesheet" href="/css/components/loading.css">
        <style>
            :host { display: none; position: fixed; inset: 0; z-index: var(--z-modal); }
            :host(.open) { display: flex; }
            .modal-backdrop { position: absolute; inset: 0; background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(10px); }
            .modal-container { position: relative; width: 100%; height: 100%; display: flex; flex-direction: column; }
            .modal-header { display: flex; justify-content: space-between; align-items: center; padding: var(--space-4) var(--space-6); background: rgba(0, 0, 0, 0.5); border-bottom: 1px solid var(--color-border-subtle); }
            .modal-title { font-weight: 600; display: flex; align-items: center; gap: var(--space-2); flex-wrap: wrap; }
            .modal-filename { max-width: 300px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
            .modal-title .badge { background: var(--color-accent-muted); color: var(--color-accent); padding: var(--space-1) var(--space-2); border-radius: var(--radius-sm); font-size: var(--text-xs); font-weight: 500; }
            .modal-body { flex: 1; display: flex; align-items: center; justify-content: center; padding: var(--space-8); overflow: auto; }
            .preview-content img, .preview-content video { max-width: 100%; max-height: calc(100vh - 200px); object-fit: contain; border-radius: var(--radius-md); box-shadow: var(--shadow-lg); }
            .preview-content audio { width: 400px; max-width: 100%; }
            .text-preview { background: rgba(0, 0, 0, 0.5); border: 1px solid var(--color-border-subtle); border-radius: var(--radius-lg); padding: var(--space-6); max-width: 900px; width: 100%; max-height: calc(100vh - 200px); overflow: auto; }
            .text-preview pre { margin: 0; font-family: var(--font-mono); font-size: var(--text-sm); line-height: var(--leading-relaxed); white-space: pre-wrap; word-wrap: break-word; color: var(--color-text-secondary); }
            .preview-placeholder { text-align: center; color: var(--color-text-muted); }
            .preview-placeholder svg { width: 80px; height: 80px; margin-bottom: var(--space-4); opacity: 0.5; }
            .modal-footer { padding: var(--space-4) var(--space-6); background: rgba(0, 0, 0, 0.5); border-top: 1px solid var(--color-border-subtle); }
            .cid-row { display: flex; align-items: center; gap: var(--space-2); background: rgba(0, 0, 0, 0.3); padding: var(--space-2) var(--space-3); border-radius: var(--radius-md); margin-bottom: var(--space-3); }
            .cid-label { font-size: var(--text-xs); color: var(--color-text-muted); font-weight: 500; }
            .cid-value { flex: 1; font-family: var(--font-mono); font-size: var(--text-xs); word-break: break-all; }
            .footer-actions { display: flex; gap: var(--space-2); justify-content: flex-end; }
            @media (max-width: 640px) { .modal-header, .modal-footer { padding: var(--space-3) var(--space-4); } .modal-body { padding: var(--space-4); } .footer-actions { flex-direction: column; } .modal-filename { max-width: 150px; } }
        </style>
        <div class="modal-backdrop" id="backdrop"></div>
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title" id="modalTitle">Preview</div>
                <button class="btn btn-ghost" id="closeBtn"><span class="icon-slot" data-icon="x"></span></button>
            </div>
            <div class="modal-body" id="modalBody"></div>
            <div class="modal-footer" id="modalFooter"></div>
        </div>
    </template>

    <!-- Blob List Template -->
    <template id="blob-list-template">
        <link rel="stylesheet" href="/css/tokens.css">
        <link rel="stylesheet" href="/css/components/buttons.css">
        <link rel="stylesheet" href="/css/components/inputs.css">
        <link rel="stylesheet" href="/css/components/cards.css">
        <link rel="stylesheet" href="/css/components/loading.css">
        <style>
            :host { display: block; }
            .list-container { min-height: 200px; }
            .controls-bar { display: flex; flex-wrap: wrap; gap: var(--space-3); margin-bottom: var(--space-4); }
            .search-box { flex: 1; min-width: 200px; position: relative; }
            .search-box .input { padding-left: var(--space-10); }
            .search-icon { position: absolute; left: var(--space-3); top: 50%; transform: translateY(-50%); color: var(--color-text-muted); pointer-events: none; }
            .search-icon svg { width: 16px; height: 16px; }
            .control-group { display: flex; gap: var(--space-2); }
            .filter-tabs { display: flex; gap: var(--space-1); padding: var(--space-1); background: var(--color-bg-elevated); border-radius: var(--radius-md); margin-bottom: var(--space-4); overflow-x: auto; }
            .filter-tab { padding: var(--space-2) var(--space-4); font-size: var(--text-xs); font-weight: 500; font-family: inherit; color: var(--color-text-secondary); background: transparent; border: none; border-radius: var(--radius-sm); cursor: pointer; white-space: nowrap; transition: all var(--transition-fast); }
            .filter-tab:hover, .filter-tab.active { color: var(--color-text-primary); background: var(--color-bg-subtle); }
            .filter-tab .count { margin-left: var(--space-2); opacity: 0.6; }
            .view-toggle { display: flex; background: var(--color-bg-elevated); border: 1px solid var(--color-border-default); border-radius: var(--radius-md); overflow: hidden; }
            .view-btn { padding: var(--space-2) var(--space-3); background: transparent; border: none; color: var(--color-text-muted); cursor: pointer; transition: all var(--transition-fast); }
            .view-btn:hover { color: var(--color-text-primary); }
            .view-btn.active { background: var(--color-bg-subtle); color: var(--color-text-primary); }
            .view-btn svg { width: 16px; height: 16px; display: block; }
            .bulk-bar { display: none; align-items: center; gap: var(--space-4); padding: var(--space-3) var(--space-4); background: var(--color-accent-muted); border: 1px solid var(--color-accent); border-radius: var(--radius-md); margin-bottom: var(--space-4); }
            .bulk-bar.active { display: flex; }
            .bulk-info { font-size: var(--text-sm); color: var(--color-text-primary); }
            .bulk-count { font-weight: 600; color: var(--color-accent); }
            .bulk-actions { display: flex; gap: var(--space-2); margin-left: auto; }
            .blobs-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: var(--space-4); }
            .blobs-list { display: flex; flex-direction: column; gap: var(--space-2); }
        </style>
        <div class="list-container">
            <div class="controls-bar">
                <div class="search-box">
                    <span class="search-icon" id="searchIcon"></span>
                    <input type="text" class="input" id="searchInput" placeholder="Search files..." />
                </div>
                <div class="control-group">
                    <select class="select" id="sortSelect">
                        <option value="newest">Newest</option><option value="oldest">Oldest</option>
                        <option value="largest">Largest</option><option value="smallest">Smallest</option>
                        <option value="name-asc">Name A-Z</option><option value="name-desc">Name Z-A</option>
                    </select>
                    <div class="view-toggle">
                        <button class="view-btn active" id="gridBtn" title="Grid view"></button>
                        <button class="view-btn" id="listBtn" title="List view"></button>
                    </div>
                    <button class="btn btn-secondary btn-sm" id="selectBtn">Select</button>
                    <button class="btn btn-ghost btn-sm" id="refreshBtn" title="Refresh"></button>
                </div>
            </div>
            <div class="filter-tabs" id="filterTabs"></div>
            <div class="stats-bar" id="statsBar">
                <div class="stat"><span class="stat-value" id="countStat">0</span><span>files</span></div>
                <div class="stat"><span class="stat-value" id="sizeStat">0 B</span><span>total</span></div>
            </div>
            <div class="bulk-bar" id="bulkBar">
                <span class="bulk-info"><span class="bulk-count" id="selectedCount">0</span> selected</span>
                <div class="bulk-actions">
                    <button class="btn btn-ghost btn-sm" id="selectAllBtn">Select All</button>
                    <button class="btn btn-ghost btn-sm" id="deselectBtn">Clear</button>
                    <button class="btn btn-danger btn-sm" id="bulkDeleteBtn">Delete</button>
                </div>
            </div>
            <div id="content"><div class="loading-state"><div class="spinner"></div><p>Loading files...</p></div></div>
        </div>
    </template>
</head>
<body data-view="loading">
    <!-- ═══════════════════════════════════════════════════════════════════════
         APPLICATION STRUCTURE
         Flat, declarative layout with slots for composition
         View switching handled via CSS based on body[data-view]
         ═══════════════════════════════════════════════════════════════════════ -->
    
    <div class="app-container">
        <!-- Loading State -->
        <div class="view-loading">
            <div class="spinner spinner-lg"></div>
            <p>Initializing...</p>
        </div>

        <!-- Header (always visible when not loading) -->
        <header class="app-header">
            <div class="brand">
                <div class="brand-icon">
                    <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="#6366f1"/>
                                <stop offset="100%" stop-color="#a855f7"/>
                            </linearGradient>
                        </defs>
                        <path d="M68 32C68 45.2548 57.2548 56 44 56C30.7452 56 20 45.2548 20 32C20 18.7452 30.7452 8 44 8C57.2548 8 68 18.7452 68 32Z" fill="url(#logoGradient)" fill-opacity="0.2"/>
                        <path d="M44 20C37.3726 20 32 25.3726 32 32C32 38.6274 37.3726 44 44 44C50.6274 44 56 38.6274 56 32C56 25.3726 50.6274 20 44 20Z" stroke="url(#logoGradient)" stroke-width="4"/>
                        <path d="M44 44V80" stroke="url(#logoGradient)" stroke-width="4" stroke-linecap="round"/>
                        <circle cx="44" cy="80" r="3" fill="url(#logoGradient)"/>
                        <path d="M65 65L80 80" stroke="url(#logoGradient)" stroke-width="4" stroke-linecap="round" opacity="0.5"/>
                        <path d="M80 65L65 80" stroke="url(#logoGradient)" stroke-width="4" stroke-linecap="round" opacity="0.5"/>
                    </svg>
                </div>
                <span class="brand-name">Pins</span>
            </div>
            <user-status></user-status>
        </header>

        <!-- Login View -->
        <div class="view-login">
            <div class="login-card">
                <div class="login-header">
                    <h1>Welcome to Pins</h1>
                    <p>Sign in with your AT Protocol account</p>
                </div>
                <login-form></login-form>
            </div>
        </div>

        <!-- Dashboard View -->
        <main class="view-dashboard">
            <section class="section">
                <header class="section-header">
                    <h2 class="section-title">Upload</h2>
                </header>
                <upload-zone></upload-zone>
            </section>

            <section class="section">
                <header class="section-header">
                    <h2 class="section-title">Your Files</h2>
                </header>
                <blob-list></blob-list>
            </section>
        </main>
    </div>

    <!-- Global components -->
    <preview-modal></preview-modal>
    <toast-notification></toast-notification>

    <!-- App initialization -->
    <script type="module" src="/js/app.js"></script>
</body>
</html>
